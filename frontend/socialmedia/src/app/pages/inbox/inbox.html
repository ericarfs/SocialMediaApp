<app-pages-layout>
  <div class="mt-1 flex flex-col items-center gap-1 w-2xl max-w-full mx-auto break-normal">
    @if(questions().length == 0 && !loading()){
      <div class="bg-card flex flex-col items-center justify-center w-[98%] min-h-80 border-2 border-border rounded-md text-2xl text-neutral p-3 space-y-2">
        <span class="font-semibold">Your inbox is empty.</span>
        <span class="text-lg">Share your account so people can send you some questions!</span>
      </div>
    }
    @if(isSelected && currentQuestion){
      <app-question
        [question] = "currentQuestion"
        (cancelReplyClicked)="cleanReply()"
        (sendReplyClicked)="sendAnswer($event,currentQuestion.id)"
        [isSelected] = "isSelected"
        [isReplying] = "isReplying">
      </app-question>
    }
    @else {
      @for (question of questions(); track question.id) {
        <app-question
        [question] = "question"
        (deleteClicked)="deleteQuestion(question.id)"
        (replyClicked)="answerQuestion(question.id)"
        [isDeleting] = "isDeleting"
        [isSelected] = "isSelected">
      </app-question>
      }
      @if (loading()) {
        <div class="text-center py-10 text-secondary text-5xl animate-pulse">
          <i class="fa-solid fa-spinner fa-spin-pulse"></i>
        </div>
      }

      <div #scrollAnchor class="h-12"></div>
    }
  </div>
</app-pages-layout>
